
<link rel="stylesheet" href="style.css">
<h2>Tasks</h2>
<input id="title" placeholder="Task title">
<input id="pid" placeholder="Project id">
<button onclick="add()">Add</button>
<table id="tbl"></table>
<script src="api.js"></script>
<link rel="stylesheet" href="/static/style.css">
<script src="/static/api.js"></script>

<script>
async function add(){
 await fetch(API+"/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:title.value,project_id:pid.value})});
 load();
}
async function load(){
 let r=await fetch(API+"/tasks"); let d=await r.json();
 tbl.innerHTML="<tr><th>ID</th><th>Title</th><th>Status</th></tr>";
 d.forEach(t=>tbl.innerHTML+=`<tr><td>${t.id}</td><td>${t.title}</td><td>${t.status}</td></tr>`)
}
load();
</script>
